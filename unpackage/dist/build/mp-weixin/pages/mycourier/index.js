(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mycourier/index"],{"50b4":function(e,o,n){"use strict";(function(e){n("5e56");t(n("66fd"));var o=t(n("987b"));function t(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,n("543d")["createPage"])},5385:function(e,o,n){"use strict";n.r(o);var t=n("a950"),a=n.n(t);for(var i in t)"default"!==i&&function(e){n.d(o,e,(function(){return t[e]}))}(i);o["default"]=a.a},6380:function(e,o,n){"use strict";var t=n("8f06"),a=n.n(t);a.a},"6ee7":function(e,o,n){"use strict";var t;n.d(o,"b",(function(){return a})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return t}));var a=function(){var e=this,o=e.$createElement;e._self._c},i=[]},"8f06":function(e,o,n){},"987b":function(e,o,n){"use strict";n.r(o);var t=n("6ee7"),a=n("5385");for(var i in a)"default"!==i&&function(e){n.d(o,e,(function(){return a[e]}))}(i);n("6380");var r,d=n("f0c5"),s=Object(d["a"])(a["default"],t["b"],t["c"],!1,null,"9aee7074",null,!1,t["a"],r);o["default"]=s.exports},a950:function(e,o,n){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n={data:function(){return{hasCourier:!1,empCode:"",searchEmp:"",empInfo:{},hasTips:!0,pageId:"",courierInfo:!1}},onLoad:function(){var e=this;e.getUseInfo()},methods:{scanCourier:function(){var o=this;e.scanCode({success:function(n){console.log(n);var t=n.result,a={empCode:t};o.$api.scanbindEmp(a).then((function(n){console.log(n),200==n.code?(o.empInfo={ownerSite:n.data.ownerSite,employeeName:n.data.employeeName,employeeCode:n.data.employeeCode,ownerSiteCode:n.data.ownerSiteCode},o.empCode=n.data.employeeCode,o.hasCourier=!0):e.showToast({icon:"none",title:"该员工不存在或者未启用！"})}))}})},inputVal:function(e){var o=this;o.searchEmp=e},search:function(){var o=this;if(""!=o.searchEmp){var n={mobilePhone:o.searchEmp.toUpperCase()};o.$api.getEmpBylike(n).then((function(n){console.log(n),200==n.code&&n.data.length>0?(o.empInfo={ownerSite:n.data[0].ownerSite,employeeName:n.data[0].employeeName,employeeCode:n.data[0].employeeCode,ownerSiteCode:n.data[0].ownerSiteCode},o.courierInfo=!0,o.empCode=n.data[0].employeeCode):e.showToast({icon:"none",title:"员工查询失败~",duration:1500})}))}else e.showToast({icon:"none",title:"请输入工号或手机号码",duration:1500})},getUseInfo:function(){var e=this;e.$api.getUser().then((function(o){200==o.code&&o.data.employeeName&&(e.empInfo.employeeCode=o.data.employeeCode,e.empInfo.employeeName=o.data.employeeName,e.empInfo.ownerSite=o.data.siteName,e.empInfo.ownerSiteCode=o.data.siteCode,e.hasCourier=!0)}))},bindEmp:function(){var o=this;if("{}"!=JSON.stringify(o.empInfo)){var n={token:o.$getStorageSync("token"),siteName:o.empInfo.ownerSite,employeeName:o.empInfo.employeeName,employeeCode:o.empInfo.employeeCode,siteCode:o.empInfo.ownerSiteCode};o.$api.binDingEmp(n).then((function(n){console.log(n),200==n.code?o.hasCourier=!0:(e.showToast({icon:"none",title:"该员工不存在或者未启用！",duration:1500}),o.empInfo={})}))}else e.showToast({icon:"none",title:"请输入先查询员工信息",duration:1500})},cancelEmp:function(){var o=this;o.$api.unbindEmp().then((function(n){200==n.code&&(e.showToast({icon:"none",title:"解除绑定成功~"}),o.empInfo={},o.empCode="",o.searchEmp=""),o.hasCourier=!1}))},itembind:function(){var o={specEmployeeName:this.empInfo.employeeName,specEmployeeCode:this.empInfo.employeeCode,ownerSite:this.empInfo.ownerSite,ownerSiteCode:this.empInfo.ownerSiteCode};e.redirectTo({url:"/pages/order/send/index?pageId=zskdy&data="+JSON.stringify(o)})},getEmployeeList:function(){var e=this,o=this;o.$api.getEmployeeList().then((function(o){200==o.code&&(console.log(o.data),e.sallist=o.data)}))}}};o.default=n}).call(this,n("543d")["default"])}},[["50b4","common/runtime","common/vendor"]]]);