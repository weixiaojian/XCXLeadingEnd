(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/mpvue-citypicker/mpvueCityPicker"],{"1dcb":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e={data:function(){return{pickerValue:[0,0,0,0],provinceData:[],cityData:[],areaData:[],town:[],provinceDataList:[],cityDataList:[],areaDataList:[],townDataList:[],province_data:[],showPicker:!1}},created:function(){this.initProvince()},onLoad:function(){},onShow:function(){this.$forceUpdate()},props:{pickerValueDefault:{type:Array,default:function(){return[0,0,0,0]}},themeColor:{type:String,default:"#007AFF"}},watch:{pickerValueDefault:function(){this.initProvince()}},methods:{initProvince:function(){var t=this,a=[],i=[],e=[];this.province_data=JSON.parse(this.$getStorageSync("province")),this.province_data.forEach((function(t,n){var s={label:t.province,code:t.provinceCode};if(a.push(s),t.cityList){var c=[],o=[];t.cityList.forEach((function(t,a){var i={label:t.cityName||"",code:t.cityCode||""};if(c.push(i),t.countyList){var e=t.countyList.map((function(t){return{label:t.countyName||"",code:t.countyCode||""}}));o.push(e)}else o.push([])})),e[n]=o,i.push(c)}else i.push([])})),this.provinceData=a,this.cityData=i,this.areaData=e;var n=this.pickerValueDefault;this.provinceDataList=a,this.cityDataList=i[n[0]],this.areaDataList=e[n[0]][n[1]],this.getTownData(n[2],this.areaDataList),setTimeout((function(){t.pickerValue=n}),500),this.handPickValueDefault()},init:function(){},show:function(){var t=this;setTimeout((function(){t.showPicker=!0}),0)},maskClick:function(){this.pickerCancel()},pickerCancel:function(){this.showPicker=!1,this._$emit("onCancel")},pickerConfirm:function(t){this.showPicker=!1,this._$emit("onConfirm")},showPickerView:function(){this.showPicker=!0},handPickValueDefault:function(){var t=this.pickerValueDefault;console.log(t);var a=t[0],i=t[1],e=t[2];0===a&&0===i&&0===e||(a>this.provinceData.length-1&&(this.pickerValueDefault[0]=a=this.provinceData.length-1),i>this.cityData[a].length-1&&(this.pickerValueDefault[1]=i=this.cityData[a].length-1),e>this.areaData[a][i].length-1&&(this.pickerValueDefault[2]=this.areaData[a][i].length-1))},pickerChange:function(t){console.log("e",t);var a=t.mp.detail.value;this.pickerValue[0]!==a[0]?(this.cityData[a[0]].length>0?(this.cityDataList=this.cityData[a[0]],this.areaDataList=this.areaData[a[0]][0]):(this.cityDataList=[],this.areaDataList=[]),a[1]=0,a[2]=0,this.getTownData(a[2],this.areaDataList)):this.pickerValue[1]!==a[1]?(this.areaDataList=this.areaData[a[0]][a[1]],a[2]=0,this.getTownData(a[2],this.areaDataList)):this.pickerValue[2]!==a[2]&&(this.getTownData(a[2],this.areaDataList),a[3]=0),this.pickerValue=a,this._$emit("onChange")},getTownData:function(t,a){var i=this;console.log(a[t]);var e={countyCode:a[t].code};this.$api.getTown(e).then((function(t){if(console.log(t),"200"==t.code){var a=[];t.data.length>1?(a=t.data.map((function(t){return{label:t.townName||"",code:t.townCode||""}})),a.unshift({label:"请选择",code:""}),i.townDataList=a):i.townDataList=[]}}))},_$emit:function(t){var a={label:this._getLabel(),code:this._getCode(),value:this.pickerValue};this.$emit(t,a)},_getLabel:function(){var t=this.areaDataList[this.pickerValue[2]]?"-"+this.areaDataList[this.pickerValue[2]].label:"",a=this.cityDataList[this.pickerValue[1]]?"-"+this.cityDataList[this.pickerValue[1]].label:"",i=this.townDataList[this.pickerValue[3]]?"-"+this.townDataList[this.pickerValue[3]].label:"";console.log(i),"-请选择"==i&&(i="");var e=this.provinceDataList[this.pickerValue[0]].label+a+t+i;return console.log(e),e},_getCode:function(){var t,a=this.areaDataList[this.pickerValue[2]]?"-"+this.areaDataList[this.pickerValue[2]].code:"",i=this.cityDataList[this.pickerValue[1]]?"-"+this.cityDataList[this.pickerValue[1]].code:"";t="请选择"==this.townDataList[this.pickerValue[3]].label?"":this.townDataList[this.pickerValue[3]]?"-"+this.townDataList[this.pickerValue[3]].code:"";var e=this.provinceDataList[this.pickerValue[0]].code+i+a+t;return console.log(e),e},_getCityCode:function(){return this.areaDataList[this.pickerValue[2]].value}}};a.default=e},2471:function(t,a,i){"use strict";i.r(a);var e=i("1dcb"),n=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(a,t,(function(){return e[t]}))}(s);a["default"]=n.a},2922:function(t,a,i){"use strict";var e=i("db1a"),n=i.n(e);n.a},"9bd3":function(t,a,i){"use strict";var e;i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return s})),i.d(a,"a",(function(){return e}));var n=function(){var t=this,a=t.$createElement;t._self._c},s=[]},d3da:function(t,a,i){"use strict";i.r(a);var e=i("9bd3"),n=i("2471");for(var s in n)"default"!==s&&function(t){i.d(a,t,(function(){return n[t]}))}(s);i("2922");var c,o=i("f0c5"),r=Object(o["a"])(n["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],c);a["default"]=r.exports},db1a:function(t,a,i){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/mpvue-citypicker/mpvueCityPicker-create-component',
    {
        'components/mpvue-citypicker/mpvueCityPicker-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("d3da"))
        })
    },
    [['components/mpvue-citypicker/mpvueCityPicker-create-component']]
]);
